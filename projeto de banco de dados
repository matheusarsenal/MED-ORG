# area referente ao projeto de banco de dados


# modelo logico





# modelo conceitual




# modelo fisico(mysql)


create database IF NOT EXISTS med_org;



USE med_org;



CREATE TABLE IF NOT exists paciente (
ID int auto_increment NOT NULL,
email varchar(200) NOT NULL,
senha varchar(300) NOT NULL,
CPF varchar(16) NOT NULL,
endereço varchar(100),
nome varchar(50) NOT NULL,
data_de_nascimento date NOT NULL,
sexo VARCHAR(15) CHECK (sexo IN ('Masculino', 'Feminino', 'Outro')),
PRIMARY KEY(ID,nome,CPF)



);



SELECT * FROM paciente;



CREATE TABLE IF NOT exists medico (
ID int auto_increment NOT NULL,
nome varchar(50) NOT NULL,
email varchar(300) NOT NULL,
formação varchar(50) NOT NULL,
endereço varchar(50),
senha varchar(300) NOT NULL,
data_de_nascimento date NOT NULL,
sexo VARCHAR(20) CHECK (sexo IN ('Masculino', 'Feminino', 'Outro')) NOT NULL,
especialização varchar(40),
CRM varchar(30) NOT NULL, 
PRIMARY KEY(ID,CRM,nome)



);



SELECT * FROM medico;



CREATE TABLE IF NOT EXISTS secretario (
ID int auto_increment NOT NULL,
cpf varchar(40) NOT NULL,
nome varchar(50) NOT NULL,
email varchar(40) NOT NULL,
data_de_nascimento date NOT NULL,
endereço varchar(100),
telefone varchar(30) NOT NULL,
senha varchar(50) NOT NULL,
sexo VARCHAR(10) CHECK (sexo IN ('Masculino', 'Feminino', 'Outro')),
primary key(ID,cpf,nome)
);



SELECT * FROM secretario;





create table IF NOT exists hospital(
ID int auto_increment NOT NULL,
nome varchar(100) NOT NULL,
bairro varchar(100) NOT NULL,
rua varchar(100) NOT NULL,
PRIMARY KEY(ID,nome)



);





SELECT * FROM hospital;





create table IF NOT exists agendamento(
ID int auto_increment NOT NULL,
consultorio varchar(20) NOT NULL,
data_consulta DATE NOT NULL,
hora TIME NOT NULL,
observacaoes text,
ID_medico int,
ID_hospital int,
ID_paciente int,
foreign key(ID_medico) references medico(ID),
foreign key(ID_hospital) references hospital(ID),
foreign key(ID_paciente) references paciente(ID),
PRIMARY KEY(ID)
);



SELECT * FROM agendamento;





CREATE TABLE IF NOT EXISTS consulta (
    ID int AUTO_INCREMENT NOT NULL,
    ID_paciente int NOT NULL,
    ID_medico int NOT NULL,
    data DATETIME NOT NULL,
    observacoes TEXT,
    FOREIGN KEY (ID_paciente) REFERENCES paciente(ID),
    FOREIGN KEY (ID_medico) REFERENCES medico(ID),
    primary key(ID)
);



SELECT * FROM consulta;



CREATE TABLE IF NOT EXISTS medicamento (
    ID int AUTO_INCREMENT,
    nome VARCHAR(100) NOT NULL,
    prescricao TEXT NOT NULL,
    ID_consulta int,
    FOREIGN KEY (ID_consulta) REFERENCES consulta(ID),
    primary key(ID)
);



SELECT * FROM medicamento;





